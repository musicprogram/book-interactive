{"ast":null,"code":"import _slicedToArray from\"/Users/musicprogram/Documents/book interactive/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState,useRef}from'react';import{Card,Row,Image}from'react-bootstrap';import Zoom from'react-medium-image-zoom';import'react-medium-image-zoom/dist/styles.css';import ButtonCatNextPrev from\"./ButtonCatNextPrev\";import{speechText,currentStep,synthGlobal,linksSvg,categoryNavigation,currentStep1,currentStep3}from'../../../GlobalState';import{useRecoilState,useRecoilValue}from'recoil';function Category(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),changePage=_useState2[0],setChangePage=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),imgTalk=_useState4[0],setImgTalk=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),imgTalkSecond=_useState6[0],setImgTalkSecond=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),talkOne=_useState8[0],setTalkOne=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),talkTwo=_useState10[0],setTalkTwo=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isTalk=_useState12[0],setIsTalk=_useState12[1];var _useRecoilState=useRecoilState(synthGlobal),_useRecoilState2=_slicedToArray(_useRecoilState,2),synth=_useRecoilState2[0],setSynth=_useRecoilState2[1];var _useRecoilState3=useRecoilState(currentStep),_useRecoilState4=_slicedToArray(_useRecoilState3,2),step=_useRecoilState4[0],setStep=_useRecoilState4[1];var _useRecoilState5=useRecoilState(currentStep1),_useRecoilState6=_slicedToArray(_useRecoilState5,2),step1=_useRecoilState6[0],setStep1=_useRecoilState6[1];var _useRecoilState7=useRecoilState(currentStep3),_useRecoilState8=_slicedToArray(_useRecoilState7,2),step3=_useRecoilState8[0],setStep3=_useRecoilState8[1];var links=useRecoilValue(linksSvg);var category=useRecoilValue(categoryNavigation);useEffect(function(){if(category===1){setTalkOne(links[0].talkOne);setTalkTwo(links[0].talkTwo);setImgTalk(links[0].talkOne);setImgTalkSecond(links[0].talkOne);}else if(category===2||category===3){setTalkOne(links[0].talkThree);setTalkTwo(links[0].talkFour);setImgTalk(links[0].talkThree);setImgTalkSecond(links[0].talkThree);}setTimeout(function(){setChangePage(false);},1000);//console.log(props.category)\n},[]);var handleMessage=function handleMessage(){setImgTalk(talkTwo);//console.log(links[0].talkTwo)\n//console.log(speechSynthesis.getVoices())\nstopSynth();var selectedVoiceName=\"Samantha\";speechText(props.category.descriptionIn,selectedVoiceName,synth);setTimeout(function(){setImgTalk(talkOne);},5000);};var stopSynth=function stopSynth(){if(synth.speaking){/* stop narration */synth.cancel();}};var handlePlayFirst=function handlePlayFirst(){setIsTalk(true);setImgTalkSecond(talkTwo);stopSynth();var selectedVoiceName=\"Samantha\";speechText(props.category.firstIn,selectedVoiceName,synth);setTimeout(function(){setIsTalk(false);setImgTalkSecond(talkOne);},5000);};var handlePlaySecond=function handlePlaySecond(){setIsTalk(true);setImgTalkSecond(talkTwo);stopSynth();var selectedVoiceName=\"Samantha\";speechText(props.category.secondIn,selectedVoiceName,synth);setTimeout(function(){setIsTalk(false);setImgTalkSecond(talkOne);},5000);};var stepsGlobal=function stepsGlobal(stp){if(category===1){setStep(stp);localStorage.setItem(\"stepFormOne\",\"\".concat(stp));}else if(category===2){setStep1(stp);localStorage.setItem(\"stepFormSecond\",stp);}else if(category===3){setStep3(stp);localStorage.setItem(\"stepFormThird\",stp);}stopSynth();};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(changePage?'animate__animated animate__fadeIn  animate__duration-1s':'')},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center text-capitalize mt-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"font-weight-bold text-title-span-title mr-2 \\n            \".concat('color-'+category,\"\\n          \")},props.category.titleEs),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",{className:\"font-weight-light text-title-span-title mr-2 text-light mt-1\\n            \".concat('color-back-'+category,\"\\n          \")},props.category.titleIn)),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center font-weight-bold \".concat('color-'+category)},/*#__PURE__*/React.createElement(\"span\",{className:\"badge bg-light\"},props.category.code)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-custom  mr-1 ml-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container card-msg\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(ButtonCatNextPrev,{id:props.category.id,stepsGlobal:stepsGlobal,category:category,firstCategoriesLength:props.firstCategoriesLength,step:step,step1:step1,step3:step3,setChangePage:setChangePage}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(Zoom,null,/*#__PURE__*/React.createElement(\"img\",{alt:\"that wanaka tree\",src:props.category.img,className:\"img-category rounded\"}))),/*#__PURE__*/React.createElement(Row,{className:\"rounded\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(\"img\",{src:imgTalk,className:\"img-talk-l\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"talk-bubble tri-right left-in wave hvr-grow \\n                    \".concat('letter-hover-'+category,\"\\n                 \"),onClick:handleMessage},/*#__PURE__*/React.createElement(\"div\",{className:\"talktext text-center\"},/*#__PURE__*/React.createElement(\"p\",{className:\"lead\"},props.category.descriptionEs),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",{className:\"lead\"},/*#__PURE__*/React.createElement(\"span\",null,props.category.descriptionIn))),/*#__PURE__*/React.createElement(\"img\",{src:links[0].click,className:\"click-animated\"}))),/*#__PURE__*/React.createElement(Image,{className:\"img-banner-1 img-fluid \".concat(category===1&&'img-banner-3',\" \").concat(category===2&&'img-banner-2',\" \"),src:links[category].photoDetail})),/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center mt-3\\n                \".concat('color-'+category,\"\\n              \")},/*#__PURE__*/React.createElement(\"span\",{className:\"font-weight-bold text-classic \"},\"-- CLASIFICACI\\xD3N --\")),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"mt-4\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(Card,{border:\"light\",style:{borderRadius:'20px'}},/*#__PURE__*/React.createElement(Card.Header,{className:\"text-classic h3 \".concat('color-'+category)},\"Primera\"),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Title,null,props.category.firstEs)))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(Card,{border:\"light\",style:{borderRadius:'20px'}},/*#__PURE__*/React.createElement(Card.Header,{className:\"text-classic h3 \".concat('color-'+category)},\"Segunda\"),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Title,null,props.category.secondEs))))),/*#__PURE__*/React.createElement(Row,{className:\"mt-3 mr-2 ml-2 mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bg-bubble hvr-bubble-right hvr-grow-shadow\",onClick:handlePlayFirst},/*#__PURE__*/React.createElement(Card.Text,{className:\"mt-1 mr-1 ml-1 text-center \".concat('letter-hover-'+category)},props.category.firstIn,\" \",/*#__PURE__*/React.createElement(\"span\",null,\" \",/*#__PURE__*/React.createElement(\"img\",{src:links[0].click,className:\"click-animated\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"img\",{src:imgTalkSecond,className:\"img-talk-center \".concat(!isTalk&&'img-turn')})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bg-bubble hvr-bubble-left hvr-grow-shadow\",onClick:handlePlaySecond},/*#__PURE__*/React.createElement(Card.Text,{className:\"mt-1 mr-1 ml-1 text-center \".concat('letter-hover-'+category)},props.category.secondIn,\" \",/*#__PURE__*/React.createElement(\"span\",null,\" \",/*#__PURE__*/React.createElement(\"img\",{src:links[0].click,className:\"click-animated\"})))))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"p\",{className:\"ml-2 mt-3 text-classic \"},\"NO CLASIFICA/ NOT CLASSIFIED\"))),/*#__PURE__*/React.createElement(\"img\",{src:links[1].photoBottom,className:\"scissors-bottom\"}),/*#__PURE__*/React.createElement(ButtonCatNextPrev,{id:props.category.id,stepsGlobal:stepsGlobal,category:category,firstCategoriesLength:props.firstCategoriesLength,step:step,step1:step1,step3:step3,changePage:changePage,setChangePage:setChangePage}))))));}export default Category;","map":{"version":3,"sources":["/Users/musicprogram/Documents/book interactive/src/components/study_categories/categories/Category.js"],"names":["React","Fragment","useEffect","useState","useRef","Card","Row","Image","Zoom","ButtonCatNextPrev","speechText","currentStep","synthGlobal","linksSvg","categoryNavigation","currentStep1","currentStep3","useRecoilState","useRecoilValue","Category","props","changePage","setChangePage","imgTalk","setImgTalk","imgTalkSecond","setImgTalkSecond","talkOne","setTalkOne","talkTwo","setTalkTwo","isTalk","setIsTalk","synth","setSynth","step","setStep","step1","setStep1","step3","setStep3","links","category","talkThree","talkFour","setTimeout","handleMessage","stopSynth","selectedVoiceName","descriptionIn","speaking","cancel","handlePlayFirst","firstIn","handlePlaySecond","secondIn","stepsGlobal","stp","localStorage","setItem","titleEs","titleIn","code","id","firstCategoriesLength","img","descriptionEs","click","photoDetail","borderRadius","firstEs","secondEs","photoBottom"],"mappings":"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","sourcesContent":["import React, {Fragment, useEffect, useState, useRef} from 'react';\nimport {Card, Row, Image} from 'react-bootstrap'\nimport Zoom from 'react-medium-image-zoom'\nimport 'react-medium-image-zoom/dist/styles.css'\n\nimport ButtonCatNextPrev from \"./ButtonCatNextPrev\";\n\nimport {\n  speechText,\n  currentStep,\n  synthGlobal,\n  linksSvg,\n  categoryNavigation,\n  currentStep1,\n  currentStep3\n} from '../../../GlobalState'\n\nimport {\n  useRecoilState, useRecoilValue\n} from 'recoil';\n\n\nfunction Category(props) {\n\n  const [changePage, setChangePage] = useState(true);\n\n  const [imgTalk, setImgTalk] = useState('');\n  const [imgTalkSecond, setImgTalkSecond] = useState('');\n\n  const [talkOne, setTalkOne] = useState('');\n  const [talkTwo, setTalkTwo] = useState('');\n\n  const [isTalk, setIsTalk] = useState(false);\n\n  const [synth, setSynth] = useRecoilState(synthGlobal);\n  const [step, setStep] = useRecoilState(currentStep);\n  const [step1, setStep1] = useRecoilState(currentStep1);\n  const [step3, setStep3] = useRecoilState(currentStep3);\n\n  const links = useRecoilValue(linksSvg);\n  const category = useRecoilValue(categoryNavigation);\n\n\n  useEffect(()=>{\n\n    if(category === 1){\n      setTalkOne(links[0].talkOne);\n      setTalkTwo(links[0].talkTwo);\n\n      setImgTalk(links[0].talkOne);\n      setImgTalkSecond(links[0].talkOne);\n    }else if(category === 2 || category === 3){\n      setTalkOne(links[0].talkThree);\n      setTalkTwo(links[0].talkFour);\n\n      setImgTalk(links[0].talkThree);\n      setImgTalkSecond(links[0].talkThree);\n    }\n\n    setTimeout(()=>{\n      setChangePage(false)\n    }, 1000)\n    //console.log(props.category)\n  },[]);\n\n  const handleMessage =()=>{\n    setImgTalk(talkTwo);\n    //console.log(links[0].talkTwo)\n    //console.log(speechSynthesis.getVoices())\n    stopSynth();\n    let selectedVoiceName = \"Samantha\";\n    speechText(props.category.descriptionIn, selectedVoiceName, synth);\n    setTimeout(()=>{\n      setImgTalk(talkOne);\n    },5000)\n  }\n\n  const stopSynth = () =>{\n    if(synth.speaking){ /* stop narration */\n      synth.cancel();\n    }\n  }\n\n  const handlePlayFirst =() =>{\n    setIsTalk(true);\n    setImgTalkSecond(talkTwo);\n    stopSynth();\n    let selectedVoiceName = \"Samantha\";\n    speechText(props.category.firstIn, selectedVoiceName, synth);\n\n    setTimeout(()=>{\n      setIsTalk(false);\n      setImgTalkSecond(talkOne);\n    }, 5000)\n  }\n\n  const handlePlaySecond =() =>{\n    setIsTalk(true);\n    setImgTalkSecond(talkTwo);\n    stopSynth();\n    let selectedVoiceName = \"Samantha\";\n    speechText(props.category.secondIn, selectedVoiceName, synth);\n\n    setTimeout(()=>{\n      setIsTalk(false);\n      setImgTalkSecond(talkOne);\n    }, 5000)\n  }\n\n\n  const stepsGlobal = (stp) =>{\n    if(category === 1){\n      setStep(stp);\n      localStorage.setItem(\"stepFormOne\", `${stp}`);\n    }else if(category === 2){\n      setStep1(stp);\n      localStorage.setItem(\"stepFormSecond\", stp);\n    }else if(category === 3){\n      setStep3(stp);\n      localStorage.setItem(\"stepFormThird\", stp);\n    }\n    stopSynth();\n  }\n\n  return (\n    <Fragment>\n      <div className={`${changePage ? 'animate__animated animate__fadeIn  animate__duration-1s' : ''}`}>\n\n        <h1 className=\"text-center text-capitalize mt-2\">\n          <span className={`font-weight-bold text-title-span-title mr-2 \n            ${'color-' + category}\n          `}>\n            {props.category.titleEs}\n          </span>\n          <br/>\n          <span className={`font-weight-light text-title-span-title mr-2 text-light mt-1\n            ${'color-back-' + category}\n          `}>\n            {props.category.titleIn}\n          </span>\n        </h1>\n        <p className={`text-center font-weight-bold ${'color-' + category}`}>\n         <span className=\"badge bg-light\">\n           {props.category.code}\n         </span>\n        </p>\n        <div className=\"card-custom  mr-1 ml-1\">\n\n          <div className=\"container card-msg\">\n\n            <Card.Body>\n\n              <ButtonCatNextPrev\n                id={props.category.id}\n                stepsGlobal={stepsGlobal}\n                category={category}\n                firstCategoriesLength={props.firstCategoriesLength}\n                step={step}\n                step1={step1}\n                step3={step3}\n                setChangePage={setChangePage}\n              />\n\n              <div className=\"d-flex justify-content-center\">\n                  <Zoom>\n                    <img\n                      alt=\"that wanaka tree\"\n                      src={props.category.img}\n                      className=\"img-category rounded\"\n                    />\n                  </Zoom>\n              </div>\n              <Row className=\"rounded\">\n                <div className=\"col-2\">\n                    <img src={imgTalk} className=\"img-talk-l\"/>\n                </div>\n                <div className=\"col-10\">\n\n                  <div className={`talk-bubble tri-right left-in wave hvr-grow \n                    ${'letter-hover-' + category}\n                 `} onClick={handleMessage}>\n                    <div className=\"talktext text-center\">\n                      <p className=\"lead\">\n\n                        {props.category.descriptionEs}\n\n                      </p>\n                      <br/>\n                      <p className=\"lead\">\n                        <span>{props.category.descriptionIn}</span>\n                      </p>\n                    </div>\n                    <img src={links[0].click} className=\"click-animated\"/>\n                  </div>\n\n                </div>\n                <Image className={ `img-banner-1 img-fluid ${category === 1 && 'img-banner-3'} ${category === 2 && 'img-banner-2'} `} src={links[category].photoDetail}/>\n\n              </Row>\n              <h2 className={`text-center mt-3\n                ${'color-' + category}\n              `}>\n              <span className=\"font-weight-bold text-classic \">\n               -- CLASIFICACIÓN --\n              </span>\n              </h2>\n              <hr/>\n\n              <Row>\n\n                <div className=\"mt-4\">\n\n                  <Row>\n                    <div className=\"col-6\">\n\n                      <Card border=\"light\" style={{ borderRadius: '20px' }}>\n                        <Card.Header className={`text-classic h3 ${'color-' + category}`}>Primera</Card.Header>\n                        <Card.Body>\n                          <Card.Title>\n                            {props.category.firstEs}\n\n                          </Card.Title>\n\n                        </Card.Body>\n                      </Card>\n\n                    </div>\n                    <div className=\"col-6\">\n\n                      <Card border=\"light\" style={{ borderRadius: '20px' }}>\n                        <Card.Header className={`text-classic h3 ${'color-' + category}`}>Segunda</Card.Header>\n                        <Card.Body>\n                          <Card.Title>\n                            {props.category.secondEs}\n\n                          </Card.Title>\n\n                        </Card.Body>\n                      </Card>\n\n                    </div>\n                  </Row>\n\n                  <Row className=\"mt-3 mr-2 ml-2 mb-3\">\n                    <div className=\"col-5\">\n                      <div className=\"bg-bubble hvr-bubble-right hvr-grow-shadow\" onClick={handlePlayFirst}>\n                        <Card.Text className={`mt-1 mr-1 ml-1 text-center ${'letter-hover-' + category}`}>\n                          {props.category.firstIn} <span> <img src={links[0].click} className=\"click-animated\"/></span>\n                        </Card.Text>\n                      </div>\n\n                    </div>\n                    <div className=\"col-2 d-flex justify-content-center\">\n                      <img src={imgTalkSecond} className={`img-talk-center ${!isTalk && 'img-turn'}` }/>\n                    </div>\n\n                    <div className=\"col-5\">\n                      <div className=\"bg-bubble hvr-bubble-left hvr-grow-shadow\" onClick={handlePlaySecond}>\n                        <Card.Text className={`mt-1 mr-1 ml-1 text-center ${'letter-hover-' + category}`}>\n                          {props.category.secondIn} <span> <img src={links[0].click} className=\"click-animated\"/></span>\n                        </Card.Text>\n                      </div>\n\n                    </div>\n\n\n                  </Row>\n\n                </div>\n\n\n              </Row>\n\n              <Row>\n                <div className=\"col-md-12\">\n\n                  <p className=\"ml-2 mt-3 text-classic \">\n                    NO CLASIFICA/\n                    NOT CLASSIFIED\n                  </p>\n\n                </div>\n              </Row>\n\n              <img src={links[1].photoBottom} className=\"scissors-bottom\"/>\n\n\n              <ButtonCatNextPrev\n                id={props.category.id}\n                stepsGlobal={stepsGlobal}\n                category={category}\n                firstCategoriesLength={props.firstCategoriesLength}\n                step={step}\n                step1={step1}\n                step3={step3}\n                changePage={changePage}\n                setChangePage={setChangePage}\n              />\n\n            </Card.Body>\n          </div>\n        </div>\n\n      </div>\n\n\n\n    </Fragment>\n\n  );\n}\n\nexport default Category;\n"]},"metadata":{},"sourceType":"module"}